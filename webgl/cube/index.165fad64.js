function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},o=t.parcelRequire400c;null==o&&((o=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var o={id:e,exports:{}};return r[e]=o,t.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},t.parcelRequire400c=o);var i=o("6yEsn");function a(e,t,r){const n=e.createShader(e.VERTEX_SHADER);if(null===n)throw new TypeError("vsh");if(e.shaderSource(n,t),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw new Error("Error in vertex shader : "+e.getShaderInfoLog(n));const o=e.createShader(e.FRAGMENT_SHADER);if(null===o)throw new TypeError("fsh");if(e.shaderSource(o,r),e.compileShader(o),!e.getShaderParameter(o,e.COMPILE_STATUS))throw new Error("Error in fragment shader : "+e.getShaderInfoLog(o));const i=e.createProgram();if(null===i)throw new TypeError("program");if(e.attachShader(i,n),e.attachShader(i,o),e.linkProgram(i),!e.getProgramParameter(i,e.LINK_STATUS))throw new Error("Link error in program:  "+e.getProgramInfoLog(i));return i}const c=document.getElementById("toggle");if(null===c)throw new TypeError("toggle");const l=document.getElementById("app");if(null===l)throw new TypeError("canvas");const d=l.getContext("webgl");if(null===d)throw new TypeError("webgl");let s=l.width=l.clientWidth,m=l.height=l.clientHeight,u=1e-6*Math.sqrt(m*m+s*s);d.viewport(0,0,l.clientWidth,l.clientHeight),window.onresize=function(){s=l.width=l.clientWidth,m=l.height=l.clientHeight,u=1e-6*Math.sqrt(m*m+s*s),d.viewport(0,0,l.clientWidth,l.clientHeight)},(e=>{const t=performance.now(),r=o=>{e(o-t),n=requestAnimationFrame(r)};let n=requestAnimationFrame(r)})(function(t){const r=a(t,e("#define GLSLIFY 1\nattribute vec3 coords;\nuniform mat4 modelview;\nuniform mat4 projection;\nvoid main() {\n    vec4 coords = vec4(coords,1.0);\n    vec4 transformedVertex = modelview * coords;\n    gl_Position = projection * transformedVertex;\n}\n"),e("precision mediump float;\n#define GLSLIFY 1\nuniform vec4 color;\nvoid main() {\n    gl_FragColor = color;\n}\n"));t.useProgram(r);const n=t.getAttribLocation(r,"coords"),o=t.getUniformLocation(r,"modelview"),d=t.getUniformLocation(r,"projection"),s=t.getUniformLocation(r,"color"),m=t.createBuffer();t.enable(t.DEPTH_TEST),t.enable(t.CULL_FACE);const f=i.mat4.create(),h=i.mat4.create(),E=i.mat4.create();function v(e,r,o){t.enableVertexAttribArray(n),t.bindBuffer(t.ARRAY_BUFFER,m),t.bufferData(t.ARRAY_BUFFER,new Float32Array(o),t.STREAM_DRAW),t.uniform4fv(s,r),t.vertexAttribPointer(n,3,t.FLOAT,!1,0,0),t.drawArrays(e,0,o.length/3)}i.mat4.rotateX(E,E,.4),i.mat4.rotateY(E,E,-.5),i.mat4.rotateZ(E,E,0);let g=null;function w(e){g=e}function p(e){if(window.MouseEvent&&e instanceof MouseEvent&&g instanceof MouseEvent){const t=i.mat4.create();i.mat4.invert(t,E);const r=i.vec3.fromValues(e.y-g.y,e.x-g.x,0);i.mat4.rotate(t,t,i.vec3.length(r)*u,r),i.mat4.multiply(t,t,E),i.mat4.multiply(E,E,t),g=e}if(window.TouchEvent&&e instanceof TouchEvent&&g instanceof TouchEvent){const t=i.mat4.create();i.mat4.invert(t,E);const r=i.vec3.fromValues(e.touches[0].clientY-g.touches[0].clientY,e.touches[0].clientX-g.touches[0].clientX,0);i.mat4.rotate(t,t,i.vec3.length(r)*u,r),i.mat4.multiply(t,t,E),i.mat4.multiply(E,E,t),g=e}}function L(e){g=null}l.addEventListener("mousedown",w),l.addEventListener("mousemove",p),l.addEventListener("mouseup",L),l.addEventListener("mouseleave",L),l.addEventListener("touchstart",w),l.addEventListener("touchmove",p),l.addEventListener("touchend",L),l.addEventListener("touchcancel",L);let A=!0;return c.addEventListener("click",(()=>{A=!A})),function(e){t.clearColor(0,0,0,1),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT);const r=l.width/l.height;if(A)i.mat4.perspective(f,Math.PI/4,r,4,8);else{const e=Math.max(2.5/r,2.5),t=Math.max(2.5*r,2.5);i.mat4.ortho(f,-t,t,-e,e,4,8)}t.uniformMatrix4fv(d,!1,f),i.mat4.lookAt(h,[0,0,6],[0,0,0],[0,1,0]),i.mat4.multiply(h,h,E),t.uniformMatrix4fv(o,!1,h),v(t.TRIANGLE_FAN,[0,1,0,1],[-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1]),v(t.TRIANGLE_FAN,[1,0,0,1],[-1,-1,1,1,-1,1,1,1,1,-1,1,1]),v(t.TRIANGLE_FAN,[0,0,1,1],[-1,1,-1,-1,1,1,1,1,1,1,1,-1]),v(t.TRIANGLE_FAN,[1,1,0,1],[-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1]),v(t.TRIANGLE_FAN,[1,0,1,1],[1,-1,-1,1,1,-1,1,1,1,1,-1,1]),v(t.TRIANGLE_FAN,[0,1,1,1],[-1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1]),t.lineWidth(4),v(t.LINES,[1,0,0,1],[-2,0,0,2,0,0]),v(t.LINES,[0,1,0,1],[0,-2,0,0,2,0]),v(t.LINES,[0,0,1,1],[0,0,-2,0,0,2]),t.lineWidth(1)}}(d));
//# sourceMappingURL=index.165fad64.js.map
